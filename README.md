# EA_Collection 
 记录一些常见的有意义的BUG或者经验教训，方便大家学习交流

模板如下（可以是md文件，也可以是docx文件）
## [BUG/经验] 简要描述（如：MPU6050初始化时序错误导致死锁）

### 🛠️ 受影响的硬件/模块
- 硬件版本：RoboBoard v2.1
- 相关代码：`/firmware/sensors/mpu6050_driver.c`

### � 复现条件
1. 供电电压 < 3.3V 
2. I2C 时钟速率 > 400kHz

### 🔍 问题现象
- 系统上电后卡死在 `mpu6050_init()` 函数
- 逻辑分析仪显示 SDA 线持续低电平

### 🧠 根本原因分析
- 硬件端未正确配置 I2C 上拉电阻（原理图 R12 应为 4.7kΩ，实装 10kΩ）
- 驱动代码中缺少总线超时检测

### ✅ 解决方案
1. 硬件修改：在 R12 并联 10kΩ 电阻 → 等效 3.3kΩ  
2. 代码修复：添加 I2C 超时机制（提交记录：#a1b2c3d）

### 📚 经验教训
- **硬件设计**：I2C 总线必须计算上拉电阻与总线电容的匹配  
- **代码防御**：关键外设操作需增加超时重启逻辑
- **测试建议**：极限电压下的稳定性测试清单见 Wiki《电源完整性测试规范》

### 🏷️ 标签
bug, hardware/i2c, sensor/mpu6050, lesson-learned
