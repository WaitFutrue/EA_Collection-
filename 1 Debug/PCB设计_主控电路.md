## [回忆] STM32F1最小系统PCB设计——芯片只能烧录一次，时不时电流声

### 🛠️ 硬件/模块

- 硬件版本：STM32F1 & 嘉立创开源**平台上找到原理**图
- 相关代码：无关项

### � 方案回忆

1. 按照嘉立创开源硬件平台上的某一个工程原理图，绘制了PCB的主控电路，同时还绘制了外设电路

2. 当时就感觉电源相关的电路设计的云里雾里的，结果最后PCB到后，验证果然有误
   
   

### 🔍 问题现象

- **第一次烧录**，程序**正常**运行，还可以DEBUG
- 但是**不一会**，隐约听见了一个**电流声**“滋滋滋”
- 然后我赶紧**再次启动**，发现指示灯**正常**，但是芯片却**无法再次下载**程序

### 🧠 试错之路

- ？？？？😶当时我还以为**芯片被锁**🔒了，傻傻的下载**ST-UNITY刷芯片**，结果无济于事，最后把芯片彻底玩坏了——**KEIL也无法识别**
- 再然后，我又试了一个芯片，结果不一会又听见了电流声（后来发现这个**电流声是长期存在**的），同样的问题，又出现了，有损失一个芯片！！！😢

### ✅ 解决方案

1. 后来我就研究我当时成功的那一板子，觉得可能是**电容的问题**
2. 同时我也询问了刘工，刘工带我看了**STM32F1芯片手册P200多页的相关电源电路**——5个电容
3. 然后我有看了看刘工设计的PCB主控电路——5个电容**排列摆放**
4. 最后我的设计——**从电源进入，经过五个电容的滤波，来到主控**

### 📚 经验教训

- **嘉立创硬件开源平台**：龙蛇混杂，泥沙俱下，**可以看看大佬的**，散户的就别看了，名不见经传，说不定**没有经过验证**就上传到平台了
- **芯片手册**：应该首先想到，这是最权威的官方，（奈何英语不是母语，对这个本能的排斥！）
- **芯片设计**：电源设计是🌳大树的根，这里不行，别的免谈
  
  > 设计电路，先设计电源电路！！！

### 🏷️ 标签

PCB,主控电路，电源电路设计，STM32F1,芯片手册

### ⏰ 最近更新——2025年3月13日（计划断更）
